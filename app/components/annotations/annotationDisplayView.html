<body>
    <div ng-include="'app/components/partials/off_canvas_menu.html'"></div>
    <div class="container">
        <div ng-include="'app/components/partials/navigation.html'"></div>
        <div style="margin-top: 80px;">
            <div class="box">
                <div class="s_a_header">
                    <a href='' ng-click="showVerseDetail(annotation.verseId, usersForSearch, circlesForSearch)" data-target='#detailedVerseModal' data-dismiss='modal' data-toggle='modal'>{{annotation.verseId / 1000 | number:0}}:{{annotation.verseId % 1000}}</a>
                    <div style="float:right;"><a  href="" ng-click="navigateTo('/profile/user/{{annotation.userId}}/')" style="color: darkblue;">{{annotation.userName | limitTo: 25}}</a></div>
                </div>
                <div class="small_space">&nbsp;</div>
                <div>
                    <blockquote
                            ng-bind-html="annotation.translation_content | mark_verse_annotation:annotation:1 | newLineAllowed | to_trusted"></blockquote>
                </div>
                <div class="small_space">&nbsp;</div>
                <div class="s_a_text">
                    <span ng-bind-html="annotation.text | newLineAllowed | to_trusted"></span>
                </div>
                <div class="small_space">&nbsp;</div>
                <button ng-repeat="annotationTag in annotation.tags" class="btn btn-xs btn-info verse_tag"
                        ng-click="goToVerseTag(annotation.author_id, annotation.verseId, annotationTag, usersForSearch, circlesForSearch)" data-target='#taggedVerseModal' data-dismiss='modal'
                        data-toggle='modal'>
                    {{annotationTag}}
                </button>
                <div class="small_space">&nbsp;</div>
                <div class="row" style="padding:0 15px">
                    <div style="float: left">{{annotation.updated | date: 'dd/MM/yyyy HH:mm:ss'}}</div>
                    <div style="float: right">
                        <span ng-class="{'voted-like': (annotation.vote != null && annotation.vote.content == 1), 'unvoted' : !(annotation.vote != null && annotation.vote.content == 1)}"
                              ng-click="doVote(annotation,'annotations', 1)">
                            <i class="fa fa-thumbs-up"></i> {{annotation.voteRates.like}}
                        </span>
                        <span ng-class="{'voted-dislike': (annotation.vote != null && annotation.vote.content == 0), 'unvoted' : !(annotation.vote != null && annotation.vote.content == 0)}"
                              ng-click="doVote(annotation,'annotations', 0)">
                            <i class="fa fa-thumbs-down"></i> {{annotation.voteRates.dislike}}
                        </span>
                        <button type="button" class="btn btn-primary btn-xs"
                                ng-if="(annotation.voteRates.dislike + annotation.voteRates.like) > 0"
                                ng-click="showVoteResults(annotation, 'annotations')">
                            DeÄŸerlendirenler
                        </button>
                        <button type="button" class="btn btn-primary btn-xs" ng-click="showEditor(annotation)"
                                ng-if="annotation.userId==user.id"><i
                                class="fa fa-pencil-square-o "></i>
                        </button>
                        <button type="button" class="btn btn-danger btn-xs" ng-click="deleteAnnotation(annotation)"
                                ng-if="annotation.userId==user.id"><i
                                class="fa fa-trash-o"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>